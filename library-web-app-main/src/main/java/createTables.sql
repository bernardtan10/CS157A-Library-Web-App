CREATE TABLE L_USER(
USER_ID INTEGER PRIMARY KEY,
USER_NAME VARCHAR2(20) NOT NULL,
DOB DATE NOT NULL,
EMAIL VARCHAR2(30) NOT NULL
);

CREATE TABLE LIBRARIAN(
L_ID INTEGER PRIMARY KEY,
L_NAME VARCHAR2(20) NOT NULL
);

CREATE TABLE VOLUNTEER(
V_ID INTEGER PRIMARY KEY,
V_NAME VARCHAR2(20) NOT NULL

);

CREATE TABLE STUDYROOM(
ROOM_NUM INTEGER PRIMARY KEY,
ROOM_CAPACITY INTEGER NOT NULL

);

CREATE TABLE LIBRARYCARD(
C_ID INTEGER PRIMARY KEY,
VALIDTHRU DATE NOT NULL

);

CREATE TABLE PUBLISHINGHOUSE(
P_ID INTEGER PRIMARY KEY,
P_NAME VARCHAR2(30) NOT NULL

);

CREATE TABLE ASSET(
ASSET_ID INTEGER PRIMARY KEY,
ASSET_NAME VARCHAR2(40) NOT NULL
);


CREATE TABLE DVD(
ASSET_ID INTEGER, 
VIDEO_LENGTH INTEGER NOT NULL,
FOREIGN KEY(ASSET_ID)
REFERENCES ASSET(ASSET_ID)
ON DELETE CASCADE
);

CREATE TABLE BOOK(
ASSET_ID INTEGER,
PAGES INTEGER NOT NULL,
FOREIGN KEY(ASSET_ID)
REFERENCES ASSET(ASSET_ID)
ON DELETE SET NULL
);

CREATE TABLE ASSET_CATEGORY(
AC_ID INTEGER PRIMARY KEY,
AC_NAME VARCHAR2(20) NOT NULL,
AC_LOCATION VARCHAR2(30) NOT NULL

);

CREATE TABLE RESERVE(
USER_ID INTEGER PRIMARY KEY,
ROOM_NUM INTEGER,
FOREIGN KEY (USER_ID)
REFERENCES L_USER(USER_ID),
FOREIGN KEY(ROOM_NUM)
REFERENCES STUDYROOM(ROOM_NUM)
ON DELETE SET NULL
);

CREATE TABLE OBTAIN(
USER_ID INTEGER PRIMARY KEY,
C_ID INTEGER,
FOREIGN KEY (USER_ID)
REFERENCES L_USER(USER_ID),
FOREIGN KEY(C_ID)
REFERENCES LIBRARYCARD(C_ID)
ON DELETE SET NULL
);

CREATE TABLE ISSUE(
C_ID INTEGER PRIMARY KEY,
L_ID INTEGER,
FOREIGN KEY(C_ID)
REFERENCES LIBRARYCARD(C_ID),
FOREIGN KEY(L_ID)
REFERENCES LIBRARIAN(L_ID)
ON DELETE SET NULL
);

CREATE TABLE PUBLISH(
ASSET_ID INTEGER PRIMARY KEY,
P_ID INTEGER,
FOREIGN KEY(ASSET_ID)
REFERENCES ASSET(ASSET_ID),
FOREIGN KEY(P_ID)
REFERENCES PUBLISHINGHOUSE(P_ID)
);

CREATE TABLE CHECKIN(
CHECKIN_ID INTEGER, 
CHECKIN_DATE DATE NOT NULL,
L_ID INTEGER, 
ASSET_ID INTEGER,
FOREIGN KEY(L_ID)
REFERENCES LIBRARIAN(L_ID),
FOREIGN KEY(ASSET_ID)
REFERENCES ASSET(ASSET_ID)
ON DELETE SET NULL
);

CREATE TABLE DONATE(
DONATE_ID INTEGER PRIMARY KEY,
DONATE_DATE DATE NOT NULL,
USER_ID INTEGER,
ASSET_ID INTEGER, 
FOREIGN KEY(USER_ID)
REFERENCES L_USER(USER_ID),
FOREIGN KEY(ASSET_ID)
REFERENCES ASSET(ASSET_ID)
ON DELETE SET NULL
);

CREATE TABLE CHECKOUT(
CHECKOUT_ID INTEGER PRIMARY KEY,
CHECKOUT_DATE DATE NOT NULL,
USER_ID INTEGER,
ASSET_ID INTEGER, 
FOREIGN KEY(USER_ID)
REFERENCES L_USER(USER_ID),
FOREIGN KEY(ASSET_ID)
REFERENCES ASSET(ASSET_ID)
ON DELETE SET NULL
);

CREATE TABLE SEARCHFOR(
USER_ID INTEGER NOT NULL, 
ASSET_ID INTEGER NOT NULL,
FOREIGN KEY(USER_ID)
REFERENCES L_USER(USER_ID),
FOREIGN KEY(ASSET_ID)
REFERENCES ASSET(ASSET_ID)
ON DELETE SET NULL
);

CREATE TABLE ARRANGE(
V_ID INTEGER NOT NULL,
AC_ID INTEGER NOT NULL,
FOREIGN KEY(V_ID)
REFERENCES VOLUNTEER(V_ID),
FOREIGN KEY(AC_ID)
REFERENCES ASSET_CATEGORY(AC_ID)
ON DELETE SET NULL
);

CREATE TABLE ASSET_AC(
ASSET_ID INTEGER NOT NULL,
AC_ID INTEGER NOT NULL,
FOREIGN KEY(ASSET_ID)
REFERENCES ASSET(ASSET_ID),
FOREIGN KEY(AC_ID)
REFERENCES ASSET_CATEGORY(AC_ID)
);

--ID Format for each entity 
--L_USER: ’12XX’ (ORDERED, START WITH 01)
--LIBRARIAN: ’10XX’(ORDERED, START WITH 01)
--VOLUNTEER: ’20XX’(ORDERED, START WITH 01)
--STUDYROOM: ’20X’(ORDERED, START WITH 1)
--LIBRARYCARD: ’501XX’(ORDERED, START WITH 21)
--PUBLISHINGHOUSE: ’9011XX’(ORDERED, START WITH 01)
--BOOK: '10010XX'(ORDERED, START WITH 01)
--DVD: '20010XX' (ORDERED, START WITH 01)
--ASSET_CATEGORY: 'XX'(ORDERED, START WITH 01)
--CHECKIN: '1XX'(ORDERED, START WITH 01)
--DONATE: '5XX'(ORDERED, START WITH 01)
--CHECKOUT: '6XX'(ORDERED, START WITH 01)

INSERT INTO L_USER VALUES('1234', 'Tom Fang', to_date('1996/07/15', 'yyyy/mm/dd'), 'tom0715@gmail.com');
INSERT INTO L_USER VALUES('1256', 'Jim Hong', to_date('1999/02/17', 'yyyy/mm/dd'), 'jim0217@gmail.com');
INSERT INTO L_USER VALUES('1278', 'Nancy Davis', to_date('1986/05/23', 'yyyy/mm/dd'), 'sophia0523@gmail.com');
INSERT INTO L_USER VALUES('1289', 'Timmy Newton', to_date('1976/08/28', 'yyyy/mm/dd'), 'timmy0828@gmail.com');
INSERT INTO L_USER VALUES('1290', 'Jason Hou', to_date('1990/03/02', 'yyyy/mm/dd'), 'jason0302@gmail.com');
INSERT INTO L_USER VALUES('1205', 'Delia Sun', to_date('1978/01/07', 'yyyy/mm/dd'), 'delia0107@gmail.com');
INSERT INTO L_USER VALUES('1266', 'Johnson Yu', to_date('1956/01/20', 'yyyy/mm/dd'), 'jognson0120@gmail.com');
INSERT INTO L_USER VALUES('1236', 'Alen Chou', to_date('1981/11/09', 'yyyy/mm/dd'), 'alen1109@gmail.com');
INSERT INTO L_USER VALUES('1247', 'Emily Kuo', to_date('1988/12/02', 'yyyy/mm/dd'), 'emily1202@gmail.com');
INSERT INTO L_USER VALUES('1211', 'Ricky Yuan', to_date('2002/02/18', 'yyyy/mm/dd'), 'ricky0218@gmail.com');

INSERT INTO LIBRARIAN VALUES('1579', 'Jenny Po');
INSERT INTO LIBRARIAN VALUES('1128', 'Leo Lin');
INSERT INTO LIBRARIAN VALUES('1357', 'Linda Chou');
INSERT INTO LIBRARIAN VALUES('1788', 'Willy Yan');
INSERT INTO LIBRARIAN VALUES('1908', 'Jerry Zhao');

INSERT INTO VOLUNTEER VALUES('2048', 'Niki Yan');
INSERT INTO VOLUNTEER VALUES('2072', 'Jeff Smith');
INSERT INTO VOLUNTEER VALUES('2090', 'Jennifer Gao');
INSERT INTO VOLUNTEER VALUES('2035', 'William Tsai');

INSERT INTO STUDYROOM VALUES('201', 5);
INSERT INTO STUDYROOM VALUES('202', 5);
INSERT INTO STUDYROOM VALUES('203', 10);
INSERT INTO STUDYROOM VALUES('204', 10);
INSERT INTO STUDYROOM VALUES('205', 30);

INSERT INTO LIBRARYCARD VALUES('50121', to_date('2021/09/30', 'yyyy/mm/dd'));
INSERT INTO LIBRARYCARD VALUES('50122', to_date('2021/12/31', 'yyyy/mm/dd'));
INSERT INTO LIBRARYCARD VALUES('50123', to_date('2022/01/31', 'yyyy/mm/dd'));
INSERT INTO LIBRARYCARD VALUES('50124', to_date('2022/01/31', 'yyyy/mm/dd'));
INSERT INTO LIBRARYCARD VALUES('50125', to_date('2022/02/15', 'yyyy/mm/dd'));
INSERT INTO LIBRARYCARD VALUES('50126', to_date('2022/03/31', 'yyyy/mm/dd'));
INSERT INTO LIBRARYCARD VALUES('50127', to_date('2022/03/31', 'yyyy/mm/dd'));
INSERT INTO LIBRARYCARD VALUES('50128', to_date('2022/04/10', 'yyyy/mm/dd'));
INSERT INTO LIBRARYCARD VALUES('50129', to_date('2022/04/30', 'yyyy/mm/dd'));
INSERT INTO LIBRARYCARD VALUES('50130', to_date('2022/07/31', 'yyyy/mm/dd'));

INSERT INTO PUBLISHINGHOUSE VALUES('901101', 'Penguin Random House');
INSERT INTO PUBLISHINGHOUSE VALUES('901102', 'HarperCollins');
INSERT INTO PUBLISHINGHOUSE VALUES('901103', 'Simon &'||'Schuster');
INSERT INTO PUBLISHINGHOUSE VALUES('901104', 'Hachette Book Group');
INSERT INTO PUBLISHINGHOUSE VALUES('901105', 'Macmillan');

INSERT INTO ASSET VALUES('1001001', 'Of Mice and Men');
INSERT INTO ASSET VALUES('1001002', 'Animal Farm');
INSERT INTO ASSET VALUES('1001003', 'The Hound of the Baskervilles');
INSERT INTO ASSET VALUES('1001004', 'The Postman Always Rings Twice');
INSERT INTO ASSET VALUES('1001005', 'Passing');
INSERT INTO ASSET VALUES('1001006', 'The Stranger');
INSERT INTO ASSET VALUES('1001007', 'If He Hollers Let Him Go');
INSERT INTO ASSET VALUES('1001008', 'Silas Marner');
INSERT INTO ASSET VALUES('1001009', 'Bonjour Tristesse');
INSERT INTO ASSET VALUES('1001010', 'O Pioneers!');
INSERT INTO ASSET VALUES('2001001', 'Dumbo');
INSERT INTO ASSET VALUES('2001002', 'Frankenstein');
INSERT INTO ASSET VALUES('2001003', 'Pickpocket');
INSERT INTO ASSET VALUES('2001004', 'Before Sunset');
INSERT INTO ASSET VALUES('2001005', 'Primer');
INSERT INTO ASSET VALUES('2001006', 'Toy Story');
INSERT INTO ASSET VALUES('2001007', 'The Squid and the Whale');
INSERT INTO ASSET VALUES('2001008', 'A Night at the Roxbury');
INSERT INTO ASSET VALUES('2001009', 'The Act of Killing');
INSERT INTO ASSET VALUES('2001010', 'Blackfish');



INSERT INTO DVD VALUES('2001001','64');
INSERT INTO DVD VALUES('2001002','70');
INSERT INTO DVD VALUES('2001003','75');
INSERT INTO DVD VALUES('2001004','80');
INSERT INTO DVD VALUES('2001005','77');
INSERT INTO DVD VALUES('2001006','81');
INSERT INTO DVD VALUES('2001007','81');
INSERT INTO DVD VALUES('2001008','82');
INSERT INTO DVD VALUES('2001009','122');
INSERT INTO DVD VALUES('2001010','90');


INSERT INTO BOOK VALUES('1001001', '107');
INSERT INTO BOOK VALUES('1001002', '112');
INSERT INTO BOOK VALUES('1001003', '112');
INSERT INTO BOOK VALUES('1001004', '112');
INSERT INTO BOOK VALUES('1001005', '122');
INSERT INTO BOOK VALUES('1001006', '123');
INSERT INTO BOOK VALUES('1001007', '186');
INSERT INTO BOOK VALUES('1001008', '176');
INSERT INTO BOOK VALUES('1001009', '160');
INSERT INTO BOOK VALUES('1001010', '159');

INSERT INTO ASSET_CATEGORY VALUES('01', 'Novel', 'Shelf 1-10');
INSERT INTO ASSET_CATEGORY VALUES('02', 'Comic', 'Shelf 11-15');
INSERT INTO ASSET_CATEGORY VALUES('03', 'Cooking', 'Shelf 16-20');
INSERT INTO ASSET_CATEGORY VALUES('04', 'Health &'||'Fitness', 'Shelf 21-23');
INSERT INTO ASSET_CATEGORY VALUES('05', 'Kids', 'Shelf 24-26');
INSERT INTO ASSET_CATEGORY VALUES('06', 'Travel', 'Shelf 27-30');
INSERT INTO ASSET_CATEGORY VALUES('07', 'Drama', 'Shelf 31-38');
INSERT INTO ASSET_CATEGORY VALUES('08', 'Fantasy Film', 'Shelf 39 -42');
INSERT INTO ASSET_CATEGORY VALUES('09', 'Historical film', 'Shelf 43 -45');
INSERT INTO ASSET_CATEGORY VALUES('10', 'Documentary', 'Shelf 46 -48');

INSERT INTO RESERVE VALUES('1278', '201');
INSERT INTO RESERVE VALUES('1211', '204');
INSERT INTO RESERVE VALUES('1290', '205');

INSERT INTO OBTAIN VALUES('1234', '50121');
INSERT INTO OBTAIN VALUES('1256', '50122');
INSERT INTO OBTAIN VALUES('1278', '50123');
INSERT INTO OBTAIN VALUES('1289', '50124');
INSERT INTO OBTAIN VALUES('1290', '50125');
INSERT INTO OBTAIN VALUES('1205', '50126');
INSERT INTO OBTAIN VALUES('1266', '50127');
INSERT INTO OBTAIN VALUES('1236', '50128');
INSERT INTO OBTAIN VALUES('1247', '50129');
INSERT INTO OBTAIN VALUES('1211', '50130');

INSERT INTO ISSUE VALUES('50121', '1579');
INSERT INTO ISSUE VALUES('50122', '1579');
INSERT INTO ISSUE VALUES('50123', '1579');
INSERT INTO ISSUE VALUES('50124', '1128');
INSERT INTO ISSUE VALUES('50125', '1128');
INSERT INTO ISSUE VALUES('50126', '1357');
INSERT INTO ISSUE VALUES('50127', '1357');
INSERT INTO ISSUE VALUES('50128', '1788');
INSERT INTO ISSUE VALUES('50129', '1908');
INSERT INTO ISSUE VALUES('50130', '1908');

INSERT INTO PUBLISH VALUES('1001001', '901101');
INSERT INTO PUBLISH VALUES('1001002', '901101');
INSERT INTO PUBLISH VALUES('1001003', '901101');
INSERT INTO PUBLISH VALUES('1001004', '901102');
INSERT INTO PUBLISH VALUES('1001005', '901102');
INSERT INTO PUBLISH VALUES('1001006', '901103');
INSERT INTO PUBLISH VALUES('1001007', '901103');
INSERT INTO PUBLISH VALUES('1001008', '901104');
INSERT INTO PUBLISH VALUES('1001009', '901104');
INSERT INTO PUBLISH VALUES('1001010', '901105');

INSERT INTO CHECKIN VALUES('101', to_date('2011/01/30', 'yyyy/mm/dd'), '1579', '1001001');
INSERT INTO CHECKIN VALUES('102', to_date('2011/02/25', 'yyyy/mm/dd'), '1579', '1001002');
INSERT INTO CHECKIN VALUES('103', to_date('2011/02/28', 'yyyy/mm/dd'), '1128', '1001003');
INSERT INTO CHECKIN VALUES('104', to_date('2012/06/12', 'yyyy/mm/dd'), '1128', '1001004');
INSERT INTO CHECKIN VALUES('105', to_date('2012/11/28', 'yyyy/mm/dd'), '1128', '1001005');
INSERT INTO CHECKIN VALUES('106', to_date('2012/12/18', 'yyyy/mm/dd'), '1357', '1001006');
INSERT INTO CHECKIN VALUES('107', to_date('2013/03/27', 'yyyy/mm/dd'), '1357', '1001007');
INSERT INTO CHECKIN VALUES('108', to_date('2013/04/20', 'yyyy/mm/dd'), '1357', '1001008');
INSERT INTO CHECKIN VALUES('109', to_date('2013/10/05', 'yyyy/mm/dd'), '1788', '1001009');
INSERT INTO CHECKIN VALUES('110', to_date('2014/01/30', 'yyyy/mm/dd'), '1788', '1001010');
INSERT INTO CHECKIN VALUES('111', to_date('2014/05/30', 'yyyy/mm/dd'), '1788', '2001001');
INSERT INTO CHECKIN VALUES('112', to_date('2014/09/30', 'yyyy/mm/dd'), '1788', '2001002');
INSERT INTO CHECKIN VALUES('113', to_date('2015/04/10', 'yyyy/mm/dd'), '1579', '2001003');
INSERT INTO CHECKIN VALUES('114', to_date('2015/05/30', 'yyyy/mm/dd'), '1579', '2001004');
INSERT INTO CHECKIN VALUES('115', to_date('2015/09/12', 'yyyy/mm/dd'), '1908', '2001005');
INSERT INTO CHECKIN VALUES('116', to_date('2016/02/10', 'yyyy/mm/dd'), '1908', '2001006');
INSERT INTO CHECKIN VALUES('117', to_date('2016/11/20', 'yyyy/mm/dd'), '1908', '2001007');
INSERT INTO CHECKIN VALUES('118', to_date('2017/02/25', 'yyyy/mm/dd'), '1908', '2001008');
INSERT INTO CHECKIN VALUES('119', to_date('2018/09/17', 'yyyy/mm/dd'), '1908', '2001009');
INSERT INTO CHECKIN VALUES('120', to_date('2019/04/30', 'yyyy/mm/dd'), '1908', '2001010');

INSERT INTO DONATE VALUES('501', to_date('2011/01/30', 'yyyy/mm/dd'), '1234', '1001001');
INSERT INTO DONATE VALUES('502', to_date('2011/02/28', 'yyyy/mm/dd'), '1234', '1001003');
INSERT INTO DONATE VALUES('503', to_date('2012/12/18', 'yyyy/mm/dd'), '1278', '1001006');
INSERT INTO DONATE VALUES('504', to_date('2014/01/30', 'yyyy/mm/dd'), '1278', '1001010');
INSERT INTO DONATE VALUES('505', to_date('2015/04/10', 'yyyy/mm/dd'), '1290', '2001003');
INSERT INTO DONATE VALUES('506', to_date('2015/05/30', 'yyyy/mm/dd'), '1266', '2001004');
INSERT INTO DONATE VALUES('507', to_date('2016/02/10', 'yyyy/mm/dd'), '1236', '2001006');
INSERT INTO DONATE VALUES('508', to_date('2016/11/20', 'yyyy/mm/dd'), '1236', '2001007');

INSERT INTO CHECKOUT VALUES('601', to_date('2020/01/30', 'yyyy/mm/dd'), '1256', '1001001');
INSERT INTO CHECKOUT VALUES('602', to_date('2020/03/30', 'yyyy/mm/dd'), '1278', '1001002');
INSERT INTO CHECKOUT VALUES('603', to_date('2020/05/20', 'yyyy/mm/dd'), '1290', '1001009');
INSERT INTO CHECKOUT VALUES('604', to_date('2021/06/18', 'yyyy/mm/dd'), '1290', '1001010');
INSERT INTO CHECKOUT VALUES('605', to_date('2021/09/21', 'yyyy/mm/dd'), '1205', '2001001');
INSERT INTO CHECKOUT VALUES('606', to_date('2021/11/30', 'yyyy/mm/dd'), '1205', '2001005');

INSERT INTO SEARCHFOR VALUES('1234', '1001005');
INSERT INTO SEARCHFOR VALUES('1256', '1001008');
INSERT INTO SEARCHFOR VALUES('1278', '1001010');
INSERT INTO SEARCHFOR VALUES('1205', '2001005');
INSERT INTO SEARCHFOR VALUES('1266', '2001009');

INSERT INTO ARRANGE VALUES('2048', '01');
INSERT INTO ARRANGE VALUES('2048', '02');
INSERT INTO ARRANGE VALUES('2048', '03');
INSERT INTO ARRANGE VALUES('2072', '04');
INSERT INTO ARRANGE VALUES('2072', '05');
INSERT INTO ARRANGE VALUES('2072', '06');
INSERT INTO ARRANGE VALUES('2090', '07');
INSERT INTO ARRANGE VALUES('2090', '08');
INSERT INTO ARRANGE VALUES('2035', '09');
INSERT INTO ARRANGE VALUES('2035', '10');

INSERT INTO ASSET_AC VALUES('1001001', '01');
INSERT INTO ASSET_AC VALUES('1001002', '01');
INSERT INTO ASSET_AC VALUES('1001003', '02');
INSERT INTO ASSET_AC VALUES('1001004', '02');
INSERT INTO ASSET_AC VALUES('1001005', '03');
INSERT INTO ASSET_AC VALUES('1001006', '03');
INSERT INTO ASSET_AC VALUES('1001007', '04');
INSERT INTO ASSET_AC VALUES('1001008', '05');
INSERT INTO ASSET_AC VALUES('1001009', '05');
INSERT INTO ASSET_AC VALUES('1001010', '06');
INSERT INTO ASSET_AC VALUES('2001001', '07');
INSERT INTO ASSET_AC VALUES('2001002', '07');
INSERT INTO ASSET_AC VALUES('2001003', '07');
INSERT INTO ASSET_AC VALUES('2001004', '07');
INSERT INTO ASSET_AC VALUES('2001005', '08');
INSERT INTO ASSET_AC VALUES('2001006', '08');
INSERT INTO ASSET_AC VALUES('2001007', '09');
INSERT INTO ASSET_AC VALUES('2001008', '09');
INSERT INTO ASSET_AC VALUES('2001009', '10');
INSERT INTO ASSET_AC VALUES('2001010', '10');
